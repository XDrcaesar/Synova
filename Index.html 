<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical S Library | Ù…ÙƒØªØ¨Ø© Ø·Ø¨ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ©</title>
    
    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Vercel -->
    <meta name="vercel" content="static-site">
    
    <!-- Ø§Ù„Ø®Ø·ÙˆØ· -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- ÙƒÙ„ CSS Ù‡Ù†Ø§ -->
    <style>
        /* ===== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --bg-dark: #000000;
            --bg-surface: #111111;
            --text-primary: #FFFFFF;
            --text-secondary: #888888;
            --text-accent: #F5F5F5;
            --border-color: #333333;
            --hover-color: #222222;
            --primary-color: #FFFFFF;
            --shadow: 0 4px 20px rgba(255, 255, 255, 0.05);
            --transition: all 0.3s ease;
        }
        
        body {
            font-family: 'Inter', 'IBM Plex Sans Arabic', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.6;
        }
        
        .hidden {
            display: none !important;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* ===== Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ÙŠØ© ===== */
        #welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-dark);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s ease;
        }
        
        .logo-circle {
            width: 120px;
            height: 120px;
            border: 4px solid var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s infinite;
            margin-bottom: 40px;
        }
        
        .logo-text {
            font-size: 48px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .typing-container {
            display: flex;
            align-items: center;
            height: 80px;
        }
        
        #typing-text {
            font-size: 48px;
            font-weight: bold;
            color: var(--text-primary);
            text-align: center;
            height: 60px;
        }
        
        .cursor {
            font-size: 48px;
            animation: blink 1s infinite;
            margin-right: 10px;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        /* ===== Ø§Ù„Ù‡ÙŠØ¯Ø± ===== */
        .header {
            background-color: rgba(17, 17, 17, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo-header {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-small {
            width: 40px;
            height: 40px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logo-small span {
            font-size: 20px;
            font-weight: bold;
        }
        
        .logo-text h1 {
            font-size: 18px;
            margin-bottom: 2px;
        }
        
        .logo-text p {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .header-actions {
            display: flex;
            gap: 10px;
        }
        
        .language-btn, .theme-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 8px 15px;
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }
        
        .language-btn:hover, .theme-btn:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        /* ===== Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ===== */
        .main {
            min-height: 80vh;
            padding: 40px 0;
        }
        
        .hero {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .hero-title {
            font-size: 36px;
            margin-bottom: 15px;
            color: var(--text-primary);
        }
        
        .hero-subtitle {
            font-size: 18px;
            color: var(--text-secondary);
            margin-bottom: 30px;
        }
        
        .search-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .search-box {
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            transition: var(--transition);
        }
        
        .search-box:focus-within {
            border-color: var(--primary-color);
            box-shadow: var(--shadow);
        }
        
        .search-icon {
            color: var(--text-secondary);
            font-size: 18px;
            margin-left: 10px;
        }
        
        .search-input {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 16px;
            padding: 8px 0;
            outline: none;
        }
        
        .search-input::placeholder {
            color: var(--text-secondary);
        }
        
        .clear-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 5px;
            transition: var(--transition);
        }
        
        .clear-btn:hover {
            color: var(--text-primary);
        }
        
        /* ===== Ø´Ø¨ÙƒØ© Ø§Ù„Ø¨Ù„ÙˆÙƒØ§Øª ===== */
        .section-title {
            font-size: 24px;
            margin-bottom: 25px;
            color: var(--text-primary);
            border-right: 4px solid var(--primary-color);
            padding-right: 15px;
        }
        
        .blocks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }
        
        .block-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 25px;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .block-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
            box-shadow: var(--shadow);
        }
        
        .block-icon {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 24px;
        }
        
        .block-title {
            font-size: 20px;
            margin-bottom: 8px;
            color: var(--text-primary);
        }
        
        .block-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }
        
        .block-description {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }
        
        .block-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        
        .book-count {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .enter-btn {
            color: var(--text-secondary);
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: var(--transition);
        }
        
        .block-card:hover .enter-btn {
            color: var(--text-primary);
        }
        
        /* ===== Ø´Ø¨ÙƒØ© Ø§Ù„ÙƒØªØ¨ ===== */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .book-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .book-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }
        
        .book-header {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .book-cover {
            width: 80px;
            height: 110px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: var(--text-secondary);
        }
        
        .book-info {
            flex: 1;
        }
        
        .book-title {
            font-size: 18px;
            margin-bottom: 5px;
            color: var(--text-primary);
        }
        
        .book-author {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }
        
        .book-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .book-description {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .book-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }
        
        .btn-primary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }
        
        .btn-primary:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        /* ===== Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ ===== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: var(--bg-surface);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
            transition: var(--transition);
        }
        
        .close-btn:hover {
            color: var(--text-primary);
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            padding: 20px;
            border-top: 1px solid var(--border-color);
            display: flex;
            gap: 10px;
        }
        
        /* ===== Ø§Ù„ÙÙˆØªØ± ===== */
        .footer {
            background: var(--bg-surface);
            border-top: 1px solid var(--border-color);
            padding: 30px 0;
            margin-top: 50px;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .footer-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .footer-info {
            text-align: left;
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .footer-info p {
            margin-bottom: 5px;
        }
        
        /* ===== ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø¬ÙˆØ§Ù„ ===== */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 28px;
            }
            
            .hero-subtitle {
                font-size: 16px;
            }
            
            .blocks-grid {
                grid-template-columns: 1fr;
            }
            
            .books-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            #typing-text {
                font-size: 32px;
            }
            
            .logo-circle {
                width: 80px;
                height: 80px;
            }
            
            .logo-text {
                font-size: 32px;
            }
            
            .cursor {
                font-size: 32px;
            }
        }
    </style>
</head>
<body>
    <!-- ===== ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ ===== -->
    <div id="welcome-screen">
        <div class="logo-circle">
            <span class="logo-text">S</span>
        </div>
        <div class="typing-container">
            <h1 id="typing-text"></h1>
            <span class="cursor">|</span>
        </div>
    </div>

    <!-- ===== Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ===== -->
    <div id="main-content" class="hidden">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo-header">
                        <div class="logo-small">
                            <span>S</span>
                        </div>
                        <div class="logo-text">
                            <h1>Medical Library</h1>
                            <p>Ù…ÙƒØªØ¨Ø© Ø·Ø¨ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ©</p>
                        </div>
                    </div>
                    
                    <div class="header-actions">
                        <button id="language-toggle" class="language-btn">
                            <i class="fas fa-globe"></i>
                            <span>English</span>
                        </button>
                        
                        <button id="theme-toggle" class="theme-btn">
                            <i class="fas fa-moon"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <main class="main">
            <div class="container">
                <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
                <section class="hero">
                    <h2 class="hero-title">Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¨Ù„ÙˆÙƒØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ©</h2>
                    <p class="hero-subtitle">Ù…ØµØ§Ø¯Ø± ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø·Ø¨ - Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ù„ÙˆÙƒØ§Øª</p>
                    
                    <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« -->
                    <div class="search-container">
                        <div class="search-box">
                            <i class="fas fa-search search-icon"></i>
                            <input 
                                type="text" 
                                id="search-input" 
                                class="search-input" 
                                placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒØªØ§Ø¨ØŒ Ù…ÙˆØ¶ÙˆØ¹ØŒ Ø£Ùˆ Ù…Ø¤Ù„Ù..."
                            >
                            <button id="clear-search" class="clear-btn hidden">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Ø´Ø¨ÙƒØ© Ø§Ù„Ø¨Ù„ÙˆÙƒØ§Øª -->
                <section class="blocks-section">
                    <h3 class="section-title">Ø§Ù„Ø¨Ù„ÙˆÙƒØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ©</h3>
                    <div id="blocks-grid" class="blocks-grid">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
                    </div>
                </section>

                <!-- Ù‚Ø³Ù… Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù…Ù…ÙŠØ²Ø© -->
                <section class="featured-section">
                    <h3 class="section-title">ÙƒØªØ¨ Ù…Ù…ÙŠØ²Ø©</h3>
                    <div id="featured-books" class="books-grid">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
                    </div>
                </section>
            </div>
        </main>

        <!-- Ø§Ù„ÙÙˆØªØ± -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-logo">
                        <div class="logo-small">
                            <span>S</span>
                        </div>
                        <div>
                            <h4>Medical S Library</h4>
                            <p>Â© 2024 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
                        </div>
                    </div>
                    
                    <div class="footer-info">
                        <p>ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ø¬Ø§Ù†ÙŠ ÙˆÙ…ØªØ§Ø­ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</p>
                        <p>Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø·Ø¨ Ø¨Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ù„ÙˆÙƒØ§Øª</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ÙƒØªØ§Ø¨ -->
    <div id="book-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ø¨</h3>
                <button id="close-modal" class="close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div id="book-details">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
                </div>
            </div>
            
            <div class="modal-footer">
                <button id="view-book" class="btn btn-primary">
                    <i class="fas fa-eye"></i>
                    <span>Ø¹Ø±Ø¶ Ø§Ù„ÙƒØªØ§Ø¨</span>
                </button>
                <button id="download-book" class="btn btn-secondary">
                    <i class="fas fa-download"></i>
                    <span>ØªÙ†Ø²ÙŠÙ„ PDF</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ===== ÙƒÙ„ JavaScript Ù‡Ù†Ø§ ===== -->
    <script>
        // ===== Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª =====
        const appData = {
            blocks: [
                {
                    id: "respiratory",
                    name: "Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙ†ÙØ³ÙŠ",
                    name_en: "Respiratory System",
                    description: "ØªØ´Ø±ÙŠØ­ ÙˆÙØ³ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ ÙˆØ£Ù…Ø±Ø§Ø¶ Ø§Ù„Ø±Ø¦ØªÙŠÙ† ÙˆØ§Ù„Ù…Ø³Ø§Ù„Ùƒ Ø§Ù„Ù‡ÙˆØ§Ø¦ÙŠØ©",
                    description_en: "Anatomy, physiology, and diseases of the lungs and airways",
                    color: "linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(6, 182, 212, 0.2))",
                    borderColor: "border-blue-500/30",
                    icon: "lungs",
                    booksCount: 14,
                    subjects: ["Ø§Ù„ØªØ´Ø±ÙŠØ­", "Ø§Ù„ÙØ³ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§", "Ø§Ù„Ø£Ù…Ø±Ø§Ø¶", "Ø§Ù„Ø£Ø¯ÙˆÙŠØ©"]
                },
                {
                    id: "cardiovascular",
                    name: "Ø§Ù„Ù‚Ù„Ø¨ ÙˆØ§Ù„Ø£ÙˆØ¹ÙŠØ©",
                    name_en: "Cardiovascular System",
                    description: "ØªØ´Ø±ÙŠØ­ Ø§Ù„Ù‚Ù„Ø¨ØŒ ÙˆØ¸Ø§Ø¦ÙÙ‡ØŒ Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ù‚Ù„Ø¨ ÙˆØ§Ù„Ø£ÙˆØ¹ÙŠØ© Ø§Ù„Ø¯Ù…ÙˆÙŠØ©",
                    description_en: "Heart anatomy, functions, cardiovascular diseases",
                    color: "linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(244, 114, 182, 0.2))",
                    borderColor: "border-red-500/30",
                    icon: "heart",
                    booksCount: 18,
                    subjects: ["ØªØ´Ø±ÙŠØ­ Ø§Ù„Ù‚Ù„Ø¨", "ÙØ³ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù‚Ù„Ø¨", "Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ù‚Ù„Ø¨", "Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ù‚Ù„Ø¨"]
                },
                {
                    id: "gastrointestinal",
                    name: "Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‡Ø¶Ù…ÙŠ",
                    name_en: "Gastrointestinal System",
                    description: "ØªØ´Ø±ÙŠØ­ ÙˆÙØ³ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ ÙˆØ£Ù…Ø±Ø§Ø¶ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‡Ø¶Ù…ÙŠ ÙˆØ§Ù„ÙƒØ¨Ø¯",
                    description_en: "Anatomy, physiology, and diseases of the digestive system and liver",
                    color: "linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2))",
                    borderColor: "border-green-500/30",
                    icon: "stomach",
                    booksCount: 12,
                    subjects: ["ØªØ´Ø±ÙŠØ­ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‡Ø¶Ù…ÙŠ", "ÙØ³ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù‡Ø¶Ù…", "Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‡Ø¶Ù…ÙŠ"]
                },
                {
                    id: "neurological",
                    name: "Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¹ØµØ¨ÙŠ",
                    name_en: "Neurological System",
                    description: "ØªØ´Ø±ÙŠØ­ Ø§Ù„Ø¯Ù…Ø§ØºØŒ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¹ØµØ¨ÙŠØŒ Ø§Ù„Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ø¹ØµØ¨ÙŠØ© ÙˆØ§Ù„Ù†ÙØ³ÙŠØ©",
                    description_en: "Brain anatomy, nervous system, neurological and psychiatric diseases",
                    color: "linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(167, 139, 250, 0.2))",
                    borderColor: "border-purple-500/30",
                    icon: "brain",
                    booksCount: 22,
                    subjects: ["ØªØ´Ø±ÙŠØ­ Ø§Ù„Ø¯Ù…Ø§Øº", "ÙØ³ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ø£Ø¹ØµØ§Ø¨", "Ø£Ù…Ø±Ø§Ø¶ Ø¹ØµØ¨ÙŠØ©", "Ø£Ù…Ø±Ø§Ø¶ Ù†ÙØ³ÙŠØ©"]
                },
                {
                    id: "hematology",
                    name: "Ø§Ù„Ø¯Ù… ÙˆØ§Ù„Ù…Ù†Ø§Ø¹Ø©",
                    name_en: "Hematology & Immunology",
                    description: "Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø¯Ù…ØŒ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ù†Ø§Ø¹ÙŠØŒ Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ø¯Ù… ÙˆØ§Ù„Ø£ÙˆØ±Ø§Ù…",
                    description_en: "Blood components, immune system, blood diseases and oncology",
                    color: "linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(251, 191, 36, 0.2))",
                    borderColor: "border-amber-500/30",
                    icon: "tint",
                    booksCount: 10,
                    subjects: ["ÙØ³ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ø¯Ù…", "Ø§Ù„Ù…Ù†Ø§Ø¹Ø©", "Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ø¯Ù…", "Ø§Ù„Ø£ÙˆØ±Ø§Ù…"]
                },
                {
                    id: "renal",
                    name: "Ø§Ù„ÙƒÙ„Ù‰ ÙˆØ§Ù„Ù…Ø³Ø§Ù„Ùƒ",
                    name_en: "Renal System",
                    description: "ØªØ´Ø±ÙŠØ­ Ø§Ù„ÙƒÙ„Ù‰ØŒ ÙˆØ¸Ø§Ø¦ÙÙ‡Ø§ØŒ Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¨ÙˆÙ„ÙŠ ÙˆØ§Ù„ØºØ¯Ø¯ Ø§Ù„ØµÙ…Ø§Ø¡",
                    description_en: "Kidney anatomy, functions, urinary system and endocrine diseases",
                    color: "linear-gradient(135deg, rgba(6, 182, 212, 0.2), rgba(20, 184, 166, 0.2))",
                    borderColor: "border-cyan-500/30",
                    icon: "kidney",
                    booksCount: 9,
                    subjects: ["ØªØ´Ø±ÙŠØ­ Ø§Ù„ÙƒÙ„Ù‰", "ÙØ³ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„ÙƒÙ„Ù‰", "Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„ÙƒÙ„Ù‰", "Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„ØºØ¯Ø¯ Ø§Ù„ØµÙ…Ø§Ø¡"]
                }
            ],
            books: [
                {
                    id: "resp-001",
                    blockId: "respiratory",
                    title: "ØªØ´Ø±ÙŠØ­ Ø§Ù„ØµØ¯Ø± ÙˆØ§Ù„Ø±Ø¦ØªÙŠÙ†",
                    title_en: "Thoracic and Pulmonary Anatomy",
                    author: "Ø¯. Ø£Ø­Ù…Ø¯ Ø§Ù„Ø®Ø§Ù„Ø¯ÙŠ",
                    author_en: "Dr. Ahmed Al-Khalidi",
                    year: 2022,
                    pages: 180,
                    description: "ÙƒØªØ§Ø¨ Ù…ØµÙˆØ± ÙŠØ´Ø±Ø­ ØªØ´Ø±ÙŠØ­ Ø§Ù„ØµØ¯Ø± ÙˆØ§Ù„Ø±Ø¦ØªÙŠÙ† Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø³Ø· Ù…Ø¹ ØµÙˆØ± ØªØ´Ø±ÙŠØ­ÙŠØ© ÙˆØ§Ø¶Ø­Ø© ÙˆØ±Ø³ÙˆÙ… ØªÙˆØ¶ÙŠØ­ÙŠØ© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯.",
                    file_url: "#",
                    cover_url: "#",
                    language: "ar",
                    difficulty: "beginner",
                    tags: ["ØªØ´Ø±ÙŠØ­", "ØµØ¯Ø±", "Ø±Ø¦ØªÙŠÙ†", "Ù…ØµÙˆØ±", "Ù…Ø¨ØªØ¯Ø¦"],
                    rating: 4.5,
                    downloads: 1243
                },
                {
                    id: "cardio-001",
                    blockId: "cardiovascular",
                    title: "ØªØ´Ø±ÙŠØ­ Ø§Ù„Ù‚Ù„Ø¨ ÙˆØ§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø¯Ù…ÙˆÙŠØ©",
                    title_en: "Heart Anatomy and Circulation",
                    author: "Ø¯. Ø³Ø¹ÙŠØ¯ Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ",
                    author_en: "Dr. Saeed Al-Qahtani",
                    year: 2023,
                    pages: 195,
                    description: "Ø¯Ù„ÙŠÙ„ Ù…ØµÙˆØ± Ù„ØªØ´Ø±ÙŠØ­ Ø§Ù„Ù‚Ù„Ø¨ ÙˆØ§Ù„Ø£ÙˆØ¹ÙŠØ© Ø§Ù„Ø¯Ù…ÙˆÙŠØ© Ù…Ø¹ Ø´Ø±Ø­ Ù…ÙØµÙ„ Ù„Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø¯Ù…ÙˆÙŠØ© Ø§Ù„ÙƒØ¨Ø±Ù‰ ÙˆØ§Ù„ØµØºØ±Ù‰.",
                    file_url: "#",
                    cover_url: "#",
                    language: "ar",
                    difficulty: "beginner",
                    tags: ["ØªØ´Ø±ÙŠØ­", "Ù‚Ù„Ø¨", "Ø£ÙˆØ¹ÙŠØ© Ø¯Ù…ÙˆÙŠØ©", "Ø¯ÙˆØ±Ø© Ø¯Ù…ÙˆÙŠØ©"],
                    rating: 4.7,
                    downloads: 987
                },
                {
                    id: "neuro-001",
                    blockId: "neurological",
                    title: "ØªØ´Ø±ÙŠØ­ Ø§Ù„Ø¯Ù…Ø§Øº ÙˆØ§Ù„Ø£Ø¹ØµØ§Ø¨",
                    title_en: "Brain and Nerves Anatomy",
                    author: "Ø¯. Ø®Ø§Ù„Ø¯ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ",
                    author_en: "Dr. Khalid Al-Otaibi",
                    year: 2020,
                    pages: 280,
                    description: "ÙƒØªØ§Ø¨ Ø´Ø§Ù…Ù„ Ù„ØªØ´Ø±ÙŠØ­ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¹ØµØ¨ÙŠ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ ÙˆØ§Ù„Ù…Ø­ÙŠØ·ÙŠ Ù…Ø¹ ØµÙˆØ± ØªØ´Ø±ÙŠØ­ÙŠØ© Ø¯Ù‚ÙŠÙ‚Ø©.",
                    file_url: "#",
                    cover_url: "#",
                    language: "ar",
                    difficulty: "advanced",
                    tags: ["ØªØ´Ø±ÙŠØ­", "Ø¯Ù…Ø§Øº", "Ø£Ø¹ØµØ§Ø¨", "Ø¬Ù‡Ø§Ø² Ø¹ØµØ¨ÙŠ"],
                    rating: 4.8,
                    downloads: 1542
                },
                {
                    id: "gi-001",
                    blockId: "gastrointestinal",
                    title: "ØªØ´Ø±ÙŠØ­ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‡Ø¶Ù…ÙŠ",
                    title_en: "Gastrointestinal Anatomy",
                    author: "Ø¯. Ù†Ø§ØµØ± Ø§Ù„Ø´Ù…Ø±ÙŠ",
                    author_en: "Dr. Nasser Al-Shammari",
                    year: 2021,
                    pages: 210,
                    description: "ÙƒØªØ§Ø¨ Ù…ØµÙˆØ± ÙŠØºØ·ÙŠ ØªØ´Ø±ÙŠØ­ Ø¬Ù…ÙŠØ¹ Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù‡Ø¶Ù…ÙŠ Ù…Ù† Ø§Ù„ÙÙ… Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ….",
                    file_url: "#",
                    cover_url: "#",
                    language: "ar",
                    difficulty: "intermediate",
                    tags: ["ØªØ´Ø±ÙŠØ­", "Ø¬Ù‡Ø§Ø² Ù‡Ø¶Ù…ÙŠ", "ÙƒØ¨Ø¯", "Ø¨Ù†ÙƒØ±ÙŠØ§Ø³"],
                    rating: 4.4,
                    downloads: 876
                }
            ]
        };

        // ===== Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© =====
        const medicalWords = [
            "Ø·ÙØ¨Ù‘", "Medicine", "MÃ©decine", "Medizin", "Medicina",
            "åŒ»å­¦", "ì˜í•™", "TÄ±p", "Medycyna", "MedicinÄƒ"
        ];

        // ===== Ø¯ÙˆØ§Ù„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ÙŠØ© =====
        function startTypingEffect() {
            let wordIndex = 0;
            let charIndex = 0;
            let isDeleting = false;
            const typingText = document.getElementById('typing-text');
            
            function type() {
                const currentWord = medicalWords[wordIndex];
                
                if (!isDeleting && charIndex <= currentWord.length) {
                    typingText.textContent = currentWord.substring(0, charIndex);
                    charIndex++;
                    setTimeout(type, 100);
                } else if (isDeleting && charIndex >= 0) {
                    typingText.textContent = currentWord.substring(0, charIndex);
                    charIndex--;
                    setTimeout(type, 50);
                } else {
                    isDeleting = !isDeleting;
                    
                    if (!isDeleting) {
                        wordIndex = (wordIndex + 1) % medicalWords.length;
                    }
                    
                    setTimeout(type, 1000);
                }
            }
            
            // Ø¨Ø¯Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø©
            setTimeout(() => {
                type();
                
                // Ø¥Ø®ÙØ§Ø¡ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø¨Ø¹Ø¯ 8 Ø«ÙˆØ§Ù†
                setTimeout(() => {
                    const welcomeScreen = document.getElementById('welcome-screen');
                    const mainContent = document.getElementById('main-content');
                    
                    welcomeScreen.style.opacity = '0';
                    setTimeout(() => {
                        welcomeScreen.classList.add('hidden');
                        mainContent.classList.remove('hidden');
                        renderBlocks();
                        renderFeaturedBooks(appData.books.slice(0, 4));
                    }, 500);
                }, 8000);
            }, 1000);
        }

        // ===== Ø¯ÙˆØ§Ù„ Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ù„ÙˆÙƒØ§Øª =====
        function renderBlocks() {
            const blocksGrid = document.getElementById('blocks-grid');
            if (!blocksGrid) return;
            
            blocksGrid.innerHTML = '';
            
            appData.blocks.forEach(block => {
                const blockCard = document.createElement('div');
                blockCard.className = 'block-card';
                blockCard.style.background = block.color;
                blockCard.style.border = `1px solid ${block.borderColor}`;
                
                blockCard.innerHTML = `
                    <div class="block-icon">
                        <i class="fas fa-${block.icon}"></i>
                    </div>
                    <h3 class="block-title">${block.name}</h3>
                    <p class="block-subtitle">${block.name_en}</p>
                    <p class="block-description">${block.description}</p>
                    <div class="block-stats">
                        <div class="book-count">
                            <i class="fas fa-book"></i>
                            <span>${block.booksCount} ÙƒØªØ§Ø¨</span>
                        </div>
                        <div class="enter-btn">
                            <span>Ø§Ø¯Ø®Ù„ Ù„Ù„Ù‚Ø³Ù…</span>
                            <i class="fas fa-arrow-left"></i>
                        </div>
                    </div>
                `;
                
                blockCard.addEventListener('click', () => {
                    showBooksByBlock(block.id);
                });
                
                blocksGrid.appendChild(blockCard);
            });
        }

        // ===== Ø¯ÙˆØ§Ù„ Ø¹Ø±Ø¶ Ø§Ù„ÙƒØªØ¨ =====
        function renderFeaturedBooks(books) {
            const featuredBooks = document.getElementById('featured-books');
            if (!featuredBooks) return;
            
            featuredBooks.innerHTML = '';
            
            books.forEach(book => {
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card';
                bookCard.innerHTML = `
                    <div class="book-header">
                        <div class="book-cover">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="book-info">
                            <h4 class="book-title">${book.title}</h4>
                            <p class="book-author">${book.author}</p>
                            <div class="book-meta">
                                <span class="meta-item">
                                    <i class="fas fa-calendar"></i>
                                    ${book.year}
                                </span>
                                <span class="meta-item">
                                    <i class="fas fa-file"></i>
                                    ${book.pages} ØµÙØ­Ø©
                                </span>
                            </div>
                        </div>
                    </div>
                    <p class="book-description">${book.description}</p>
                    <div class="book-actions">
                        <button class="btn btn-primary view-btn" data-id="${book.id}">
                            <i class="fas fa-eye"></i>
                            <span>Ø¹Ø±Ø¶</span>
                        </button>
                        <button class="btn btn-secondary download-btn" data-id="${book.id}">
                            <i class="fas fa-download"></i>
                            <span>ØªÙ†Ø²ÙŠÙ„</span>
                        </button>
                    </div>
                `;
                
                featuredBooks.appendChild(bookCard);
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const bookId = e.currentTarget.dataset.id;
                    showBookDetails(bookId);
                });
            });
            
            document.querySelectorAll('.download-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const bookId = e.currentTarget.dataset.id;
                    downloadBook(bookId);
                });
            });
        }

        function showBooksByBlock(blockId) {
            const blockBooks = appData.books.filter(book => book.blockId === blockId);
            if (blockBooks.length === 0) return;
            
            renderFeaturedBooks(blockBooks);
            
            // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¥Ù„Ù‰ Ù‚Ø³Ù… Ø§Ù„ÙƒØªØ¨
            document.querySelector('.featured-section').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        function showBookDetails(bookId) {
            const book = appData.books.find(b => b.id === bookId);
            if (!book) return;
            
            const modalTitle = document.getElementById('modal-title');
            const bookDetails = document.getElementById('book-details');
            const bookModal = document.getElementById('book-modal');
            const viewBookBtn = document.getElementById('view-book');
            const downloadBookBtn = document.getElementById('download-book');
            
            modalTitle.textContent = book.title;
            
            bookDetails.innerHTML = `
                <div class="book-details">
                    <div style="display: flex; gap: 20px; margin-bottom: 20px;">
                        <div style="width: 100px; height: 140px; background: rgba(255,255,255,0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-book" style="font-size: 36px; color: #888;"></i>
                        </div>
                        <div style="flex: 1;">
                            <h4 style="margin-bottom: 5px; font-size: 18px;">${book.title}</h4>
                            <p style="color: #888; margin-bottom: 10px;">${book.title_en}</p>
                            <p style="color: #888; margin-bottom: 15px;"><strong>Ø§Ù„Ù…Ø¤Ù„Ù:</strong> ${book.author}</p>
                            <p style="color: #888; margin-bottom: 5px;"><strong>Ø§Ù„Ø³Ù†Ø©:</strong> ${book.year}</p>
                            <p style="color: #888; margin-bottom: 5px;"><strong>Ø§Ù„ØµÙØ­Ø§Øª:</strong> ${book.pages}</p>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <h5 style="margin-bottom: 10px; color: #fff;">Ø§Ù„ÙˆØµÙ</h5>
                        <p style="color: #888; line-height: 1.6;">${book.description}</p>
                    </div>
                    
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px;">
                        ${book.tags.map(tag => `
                            <span style="background: rgba(255,255,255,0.1); padding: 5px 10px; border-radius: 20px; font-size: 12px; color: #888;">
                                ${tag}
                            </span>
                        `).join('')}
                    </div>
                </div>
            `;
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
            viewBookBtn.onclick = () => {
                if (book.file_url && book.file_url !== '#') {
                    window.open(book.file_url, '_blank');
                } else {
                    alert('Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¹Ø±Ø¶ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹');
                }
                bookModal.classList.add('hidden');
            };
            
            downloadBookBtn.onclick = () => {
                if (book.file_url && book.file_url !== '#') {
                    window.open(book.file_url, '_blank');
                } else {
                    alert('Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙ†Ø²ÙŠÙ„ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹');
                }
                bookModal.classList.add('hidden');
            };
            
            bookModal.classList.remove('hidden');
        }

        function downloadBook(bookId) {
            const book = appData.books.find(b => b.id === bookId);
            if (book && book.file_url && book.file_url !== '#') {
                window.open(book.file_url, '_blank');
            } else {
                alert('Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙ†Ø²ÙŠÙ„ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹');
            }
        }

        // ===== Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¨Ø­Ø« =====
        function searchBooks(query) {
            const normalizedQuery = query.toLowerCase().trim();
            
            if (normalizedQuery === '') {
                renderFeaturedBooks(appData.books.slice(0, 4));
                return;
            }
            
            const filteredBooks = appData.books.filter(book => 
                book.title.toLowerCase().includes(normalizedQuery) ||
                book.title_en.toLowerCase().includes(normalizedQuery) ||
                book.author.toLowerCase().includes(normalizedQuery) ||
                book.tags.some(tag => tag.toLowerCase().includes(normalizedQuery))
            );
            
            renderFeaturedBooks(filteredBooks);
        }

        // ===== Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ† Ù„Ù„Ø£Ø­Ø¯Ø§Ø« =====
        function setupEventListeners() {
            // Ø§Ù„Ø¨Ø­Ø«
            const searchInput = document.getElementById('search-input');
            const clearSearchBtn = document.getElementById('clear-search');
            
            if (searchInput) {
                searchInput.addEventListener('input', (e) => {
                    const query = e.target.value;
                    searchBooks(query);
                    
                    if (query.trim() !== '') {
                        clearSearchBtn.classList.remove('hidden');
                    } else {
                        clearSearchBtn.classList.add('hidden');
                    }
                });
            }
            
            // Ù…Ø³Ø­ Ø§Ù„Ø¨Ø­Ø«
            if (clearSearchBtn) {
                clearSearchBtn.addEventListener('click', () => {
                    searchInput.value = '';
                    clearSearchBtn.classList.add('hidden');
                    searchBooks('');
                });
            }
            
            // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
            const languageToggle = document.getElementById('language-toggle');
            if (languageToggle) {
                languageToggle.addEventListener('click', () => {
                    const span = languageToggle.querySelector('span');
                    if (span) {
                        span.textContent = span.textContent === 'English' ? 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' : 'English';
                    }
                });
            }
            
            // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø³Ù…Ø©
            const themeToggle = document.getElementById('theme-toggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    const icon = themeToggle.querySelector('i');
                    if (icon) {
                        if (icon.classList.contains('fa-moon')) {
                            icon.classList.remove('fa-moon');
                            icon.classList.add('fa-sun');
                        } else {
                            icon.classList.remove('fa-sun');
                            icon.classList.add('fa-moon');
                        }
                    }
                });
            }
            
            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
            const closeModalBtn = document.getElementById('close-modal');
            const bookModal = document.getElementById('book-modal');
            
            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', () => {
                    bookModal.classList.add('hidden');
                });
            }
            
            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ø¨Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            if (bookModal) {
                bookModal.addEventListener('click', (e) => {
                    if (e.target === bookModal) {
                        bookModal.classList.add('hidden');
                    }
                });
            }
            
            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ø¨Ù…ÙØªØ§Ø­ ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && bookModal && !bookModal.classList.contains('hidden')) {
                    bookModal.classList.add('hidden');
                }
            });
        }

        // ===== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ =====
        document.addEventListener('DOMContentLoaded', () => {
            startTypingEffect();
            setupEventListeners();
            
            // Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„
            console.log('ğŸš€ Medical S Library loaded successfully!');
            console.log('ğŸ“š Blocks:', appData.blocks.length);
            console.log('ğŸ“– Books:', appData.books.length);
        });
    </script>
</body>
</html>